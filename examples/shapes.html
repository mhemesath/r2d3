<!DOCTYPE html>
<html>
  <head>
    <title>Shapes Test</title>
    <!--[if lte IE 8]><script src="../r2d3.v2.js"></script><![endif]-->
    <!--[if gte IE 9]><!-->
    <script src="../lib/d3/d3.v2.js"></script>
    <!--<![endif]-->
  </head>
  <body>
		<div></div>
		<script>
      var svg = d3.select('div').append('svg')
                  .attr('height', 200)
                  .attr('width', 200),
					data = d3.random.normal(50, 10),
					fill = d3.scale.linear().domain([40,50,60]).range(['#ff0000', '#00ff00', '#0000ff']);

			function drawRect() {
				var shape = svg.selectAll('rect').data([data()]);
				shape.enter().append('rect')
					.attr("width", 20)
					.attr("height", 20)
					.attr('y', function(d) {return d;})
					.attr('x', function(d) { return d;})
					.attr('stroke', 'none')
					.attr('fill', fill);
			}
			
			function drawLine() {
        var shape = svg.selectAll('line').data([data()]);
        shape.enter().append('line')
          .attr('x1', 0)
          .attr('y1', 0)
          .attr('x2', function(d) {return d;})
          .attr('y2', function(d) { return d;})
          .attr('stroke', fill)
          .attr('fill', fill);
      }
			
			function drawEllipse() {
        var shape = svg.selectAll('ellipse').data([data()]);
        shape.enter().append('ellipse')
          .attr('cx', 30)
          .attr('cy', 30)
          .attr('rx', function(d) {return d*.2;})
          .attr('ry', function(d) { return d*.3;})
          .attr('stroke', 'none')
          .attr('fill', fill);
      }
			
			function drawCircle() {
        var shape = svg.selectAll('circle').data([data()]);
        shape.enter().append('circle')
          .attr('cx', 30)
          .attr('cy', 30)
          .attr('r', function(d) { return d;})
          .attr('stroke', 'none')
          .attr('fill', fill);
      }
      
			function drawSet() {
        var set = svg.append('set');
        var shape = set.selectAll('circle').data([data()]);
        shape.enter().append('circle')
          .attr('cx', 30)
          .attr('cy', 30)
          .attr('r', function(d) { return d;})
          .attr('stroke', 'none')
          .attr('fill', fill);
        set.attr('fill', 'red');
      }
			drawCircle();
		</script>
  </body>
</html>
